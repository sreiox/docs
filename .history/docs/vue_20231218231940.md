# vue

## 1. 虚拟DOM

采用`虚拟DOM`的更新技术在性能这块，理论上是不可能比原生Js操作DOM高的。不过在大部分情况下，开发者很难写出绝对优化的命令式代码。所以虚拟DOM就是用来解决这一问题，让开发者系的代码在性能上得到保障，甚至无限接近命令式代码的性能。

通常情况下，`纯Js层面的操作`远比`DOM操作快`。`虚拟DOM就是用Js来模拟出DOM结构`，`通过diff算法来计算出最小的变更`，通过对应的渲染器，来渲染到页面上。

同时`虚拟DOM`也为跨平台开发提供了极大的便利，开发者写的同一套代码（有些需要针对不同平台做区分），通过不同的渲染规则，就可以生成不同平台的代码。

在`vue`中会通过`渲染器`来将虚拟DOM转换为对应平台的真实DOM。如`renderer(vnode， container)`，该方法会根据`vnode`描述的信息（如tag、props、children）来创建DOM元素，根据规则为对应的元素添加属性和事件，`处理vnode下的children`。

## 2. vue3的变化（改进）